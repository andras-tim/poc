{
  "name": "tasks",
  "description": "Tasks",
  "version": "0.0.0",
  "private": true,
  "repository": "git@github.com:andras-tim/poc-for-everything.git",
  "devDependencies": {
    "karma": "^0.12.16",
    "karma-chrome-launcher": "^0.1.4",
    "karma-jasmine": "^0.1.5",
    "protractor": "~1.0.0",
    "tmp": "0.0.23",
    "bower": "^1.3.1",
    "shelljs": "^0.2.6"
  },
  "scripts": {
    "preinstall": "sudo apt-get install build-essential python3.4 python3.4-dev python-virtualenv",
    "postinstall": "npm run install-server && npm run install-client",

    "install-server": "cd server && if [ ! -e flask ]; then virtualenv -p /usr/bin/python3.4 flask; fi && flask/bin/pip install -r pip.pkgs --upgrade --allow-external mysql-connector-python && if [ ! -e app/static ]; then ln -s ../../client/app app/static; fi",
    "install-client": "cd client && bower install && cd .. && npm run update-webdriver",

    "clean": "npm run clean-server && npm run clean-client && if [ -e node_modules ]; then rm -rf node_modules; fi",
    "clean-server": "cd server && if [ -e flask ]; then rm -rf flask; fi",
    "clean-client": "cd client && if [ -e app/bower_components ]; then rm -rf app/bower_components; fi",

    "start": "cd server && flask/bin/python run.py",

    "test": "node node_modules/karma/bin/karma start client/test/karma.conf.js",
    "test-single-run": "node node_modules/karma/bin/karma start client/test/karma.conf.js  --single-run",

    "update-webdriver": "webdriver-manager update",

    "protractor": "protractor client/test/protractor-conf.js"
  }
}
